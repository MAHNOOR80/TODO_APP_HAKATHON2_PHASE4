---
# Pod Disruption Budget for Backend
# Ensures at least 1 pod is available during voluntary disruptions
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: backend-pdb
  namespace: todo-app
  labels:
    app: backend
    component: availability
spec:
  minAvailable: 1
  selector:
    matchLabels:
      app: backend
---
# Pod Disruption Budget for Frontend
# Ensures at least 1 pod is available during voluntary disruptions
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: frontend-pdb
  namespace: todo-app
  labels:
    app: frontend
    component: availability
spec:
  minAvailable: 1
  selector:
    matchLabels:
      app: frontend
---
# Pod Disruption Budget for AI Agent
# Allow disruption since it's a background worker
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: ai-agent-pdb
  namespace: todo-app
  labels:
    app: ai-agent
    component: availability
spec:
  maxUnavailable: 1
  selector:
    matchLabels:
      app: ai-agent
